<!DOCTYPE html><html lang="en"> <head><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.9.2"><link rel="sitemap" href="/sitemap-index.xml"><title>Hexo安装部署与同步</title><meta charset="utf-8"><link rel="canonical" href="https://www.fanschou.com/posts/install/hexo-install-steps/"><meta name="description" content="本文介绍了如何安装 Hexo 生成静态博客，以及如何将生成的静态博客部署 Github Pages 上供外部访问。同时我们利用 Github 的仓库进行静态网页和博客书写环境的同步，方便在不同的写作环境中进行切换。"><meta name="robots" content="index, follow"><meta property="og:title" content="Hexo安装部署与同步"><meta property="og:type" content="article"><meta property="og:image" content="https://www.fanschou.com/placeholder.png"><meta property="og:url" content="https://www.fanschou.com"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><meta name="twitter:image:src" content="https://www.fanschou.com/placeholder.png"><meta name="twitter:image:alt" content="本文介绍了如何安装 Hexo 生成静态博客，以及如何将生成的静态博客部署 Github Pages 上供外部访问。同时我们利用 Github 的仓库进行静态网页和博客书写环境的同步，方便在不同的写作环境中进行切换。"><meta name="twitter:creator"><meta name="twitter:site"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Hexo安装部署与同步"><meta name="twitter:description" content="本文介绍了如何安装 Hexo 生成静态博客，以及如何将生成的静态博客部署 Github Pages 上供外部访问。同时我们利用 Github 的仓库进行静态网页和博客书写环境的同步，方便在不同的写作环境中进行切换。"><!-- Katex --><link rel="stylesheet" href="/_astro/about.CKOrui31.css">
<link rel="stylesheet" href="/_astro/about.Q2hPb40S.css">
<style>.tk-meta-input{background-color:#fff}.code-container{position:relative}.clipboard-copy{position:absolute;top:.5rem;right:.5rem;width:1.75rem;height:1.75rem;display:flex;justify-content:center;align-items:center;border-radius:.25rem}.clipboard-copy:hover{background-color:#30363d}
</style><script type="module" src="/_astro/hoisted.C1FqLlVV.js"></script>
<script type="module" src="/_astro/page.DFwqf4PB.js"></script></head> <body> <div un-max-lg="animate-fadein-down" un-lg="flex flex-row-reverse justify-between gap-4 px-8 mx-auto max-w-6xl" class="container contain-layout m-a"> <div un-lg="sticky top-0 h-screen py-20 animate-fadein-left gap-8" un-lg:flex="~ col justify-between items-start gap-4" class="p-7.5"> <header un-lg="grow-1 justify-between items-start" un-flex="~ col gap-2.5" class="text-center"> <hgroup un-hover:lg="bg-foreground color-background pt-3.75 pb-8.75 " un-lg=" write-vertical-right items-start px-2.5 pb-12 b-l-2px b-l-foreground-solid text-left" un-flex="~ col gap-2.5" class="cursor-pointer transition-[padding,background] duration-800 ease-in-out"> <a class="normal" href="/"> <h3 class="text-5 font-extrabold font-serif">Fan Zhou</h3> <h1 class="text-8 font-extrabold font-serif">六脉神间</h1> </a> </hgroup> <nav class="text-center font-bold" un-flex="~ col gap-2"> <ul un-lg="flex-col items-start text-4" class="text-3.5" un-flex="~ row gap-2 justify-center"> <li> <a href="/posts/page/1">文章</a> </li><li> <a href="/archive">归档</a> </li><li> <a href="/tags">标签</a> </li><li> <a href="/about">关于</a> </li> </ul> <ul un-flex="~ row gap-1 justify-center"> <li> <a href="https://github.com/FansChou" target="_blank" title="github" class="icon i-mdi-github"></a> </li><li> <a href="/rss.xml" target="_blank" title="rss" class="icon i-mdi-rss"></a> </li> </ul> </nav> </header> <footer font-bold text-3 un-flex="~ col gap-1" un-lg="gap-3.5" class="max-lg:hidden"> <p>
© 2024 <a target="_blank" href="https://www.fanschou.com" rel="noopener noreferrer">Fan Zhou</a> </p> <p> <a target="_blank" href="https://beian.miit.gov.cn/">皖ICP备2021007904号</a> </p> <p> <a target="_blank" href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=34180202000490"> <img src="https://images.fanschou.com/blog/site/beian_gongan.webp" alt="备案" style="float:left;">皖公网安备 34180202000490号
</a> </p> <!-- <p>
    Theme
    <a target="_blank" href="https://github.com/Moeyua/astro-theme-typography" rel="noopener noreferrer">Typography</a>
      by <a target="_blank" href="https://moeyua.com" rel="noopener noreferrer">Moeyua</a>
  </p>
  <p>
    Proudly published with
    <a target="_blank" href="https://astro.build" rel="noopener noreferrer">Astro</a>
  </p> --> </footer> </div> <main un-lg="py-20 min-w-xl animate-fadein-down" class="p-7.5">  <article class="heti"> <header> <h1 class="post-title!"> <a href="/posts/install/hexo-install-steps/">Hexo安装部署与同步</a> </h1> <div class="mt-2 text-3.5"> <span>发布于</span> <time>2018-08-16</time> <span>更新于</span><time>2020-05-29</time> <a class="ml-2.5" href="/tags/install">
# 安装与搭建 </a><a class="ml-2.5" href="/tags/hexo">
# Hexo </a>  </div> </header>  <h2 id="前言">前言</h2>
<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<p>为了适应在多个设备切换进行博客书写的要求，利用 Github 仓库的分支分别存储 Hexo 源文件和发布出去的静态网页，这样只需在不同设备上将源文件分支同步之后，即可直接进行修改源文件进行发布，同时修改的源文件也可以提交到仓库的分支上。</p>
<h2 id="安装">安装</h2>
<h3 id="安装前提">安装前提</h3>
<p>安装 Hexo 相当简单。然而在安装前，你必须检查电脑中是否已安装下列应用程序：</p>
<ul>
<li><a href="https://nodejs.org/zh-cn/">Node.js</a></li>
<li><a href="https://git-scm.com/">Git</a></li>
</ul>
<p>如果你的电脑中已经安装上述必备程序，那么接下来只需要使用 npm 即可完成 Hexo 的安装。</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">npm</span><span style="color:#98C379"> install</span><span style="color:#D19A66"> -g</span><span style="color:#98C379"> hexo</span></span>
<span class="line"></span></code></pre>
<p>如果你的电脑中尚未安装所需要的程序，请根据以下安装指示完成安装。</p>
<h3 id="安装-git">安装 Git</h3>
<ul>
<li>
<p>Windows：点击上面的链接去官网下载后进行安装，记住在安装的选项中勾选<strong>Add to PATH</strong></p>
</li>
<li>
<p>Linux (Ubuntu, Debian)：<code>sudo apt-get install git-core</code></p>
</li>
<li>
<p>Linux (Fedora, Red Hat, CentOS)：<code>sudo yum install git-core</code></p>
</li>
</ul>
<h3 id="安装-nodejs">安装 Node.js</h3>
<p>可以直接下载 <a href="https://nodejs.org/zh-cn/">安装程序</a> 来安装。</p>
<p>对于在Windows上安装的用户来说，和Git一样记住在安装的选项中勾选<strong>Add to PATH</strong>选项。</p>
<h3 id="安装-hexo">安装 Hexo</h3>
<p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">npm</span><span style="color:#98C379"> install</span><span style="color:#D19A66"> -g</span><span style="color:#98C379"> hexo</span></span>
<span class="line"></span></code></pre>
<p>然后输入命令<code>hexo -v</code>，回车后输出hexo的版本号即为安装成功</p>
<h2 id="部署">部署</h2>
<p>以下内容皆是在Windows环境下的操作。</p>
<h3 id="github准备">Github准备</h3>
<p>博客是在<a href="https://github.com/">Github</a>上托管维护的，所以当然需要一个Github的账号了。我的Github账号是FansChou，所以我创建的仓库名字就是<code>FansChou.github.io</code>。这里账号的大小写有没有影响，我没有试验，根据我的观察应该是不影响的。</p>
<p>建仓库时，名字固定为 <code>你的账号.github.io</code> 这样的形式，至于为什么是这种形式，是因为 Github Pages 提供了2种类型的页面</p>
<ul>
<li>一种是 <code>Project Pages</code> ，用来作为代码仓库的一个静态页面说明，这个是每个代码仓库都是可以有一个的</li>
<li>一种是 <code>User Pages</code> ，是提供给整个账号的，每个账号有且只有一个，是可以直接通过<code>你的账号.github.io</code>去这个地址去访问网页的，所以必须写成上面的那种格式。我们要部署的就是后一种的 <code>User Pages</code></li>
</ul>
<p>除此之外， 要想使用Git进行与远程仓库的交互，还需要一些配置，这些知识可以去网上搜索学习，这里只列出我们需要的。</p>
<ol>
<li>
<p>首先，设定本地的邮箱和用户名</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> config</span><span style="color:#D19A66"> --global</span><span style="color:#98C379"> user.email</span><span style="color:#98C379"> xxx@gmail.com</span></span>
<span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> config</span><span style="color:#D19A66"> --global</span><span style="color:#98C379"> user.name</span><span style="color:#98C379"> xxx</span></span>
<span class="line"></span></code></pre>
</li>
<li>
<p>然后生成SSH公钥</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#56B6C2">cd</span><span style="color:#98C379"> c:/user/fans/.ssh</span></span>
<span class="line"><span style="color:#61AFEF">ssh-keygen</span><span style="color:#D19A66"> -t</span><span style="color:#98C379"> rsa</span><span style="color:#D19A66"> -C</span><span style="color:#98C379"> xxx@gmail.com</span></span>
<span class="line"></span></code></pre>
<p>这里需要说明两件事：首先生成公钥的时候，最好进入当前用户的 <code>.ssh</code> 目录下，再去生成，第一次试的时候，在其他地方生成的，最后进行同步的时候找不到公钥；另外就是最后的公钥名称要以 <code>id_</code> 开头，这个比较奇怪，最开始我起了一个hexo的名字，同步的时候同样报找不到公钥，也是很郁闷，最后还是改成了 <code>id_rsa</code> ，没什么特殊要求的话，还是不作妖了，哈哈~</p>
</li>
<li>
<p>添加SSH公钥到Github账户</p>
<p>将 <code>.ssh</code> 目录下的 <code>id_rsa.pub</code> 文件用 VS CODE 打开，复制里面的内容。登陆Github，选择settings － SSH keys  － add ssh keys，然后把复制的内容全部粘贴进去即可</p>
</li>
</ol>
<h3 id="初始化">初始化</h3>
<p>经过以上的步骤，准备工作算是做好了，接下来就是初始化一个Hexo环境。</p>
<p>因为要使用 Github 进行同步，所以接下来先将建好的仓库clone一份到本地。找到之前建好的仓库地址，进行clone</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> clone</span><span style="color:#98C379"> git@github.com:FansChou/FansChou.github.io.git</span></span>
<span class="line"></span></code></pre>
<p>clone的地方会有一个文件夹生成，名字和仓库名一样 <code>FansChou.github.io</code> 。</p>
<p>然后，使用 Hexo 进行初始化，在你本地新建一个文件夹，进入之后，右键选择 <code>Git Bash Here</code> 进入命令行：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">hexo</span><span style="color:#98C379"> init</span></span>
<span class="line"></span></code></pre>
<p>将刚刚生成的文件拷贝至从仓库clone生成的文件夹 <code>FansChou.github.io</code> 里面。</p>
<p>这里之所以不直接在 <code>FansChou.github.io</code> 生成hexo源文件，是因为在执行hexo命令的时候要求所在目录是一个空文件夹。</p>
<p>最后我们生成静态文件并在本地启动：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">hexo</span><span style="color:#98C379"> g</span></span>
<span class="line"><span style="color:#61AFEF">hexo</span><span style="color:#98C379"> s</span></span>
<span class="line"></span></code></pre>
<p>这个时候我们进入浏览器访问 <a href="http://localhost:4000">http://localhost:4000</a> 就可以进入hexo主页面了，此时的首页应该是一个Helloworld页面。</p>
<h3 id="同步博客源文件">同步博客源文件</h3>
<blockquote>
<p>如果你没有使用Github进行源文件同步的打算，那么请直接进入下一节进行发布吧！</p>
</blockquote>
<p>这个时候本地已经可以预览到博客的界面了，接下来就是利用 Github 去同步 Hexo 的源文件。这里的做法是建立2个分支，一个是master，一个是source，master分支用来发布生成的静态网页，source则用来同步 Hexo 的源文件。</p>
<p>建好仓库后默认会有一个master分支，我们先创建一个source分支。</p>
<p>首先进入<code>FansChou.github.io</code>文件夹，右键选择 <code>Git Bash Here</code> 进入命令行，创建并切换到source分支：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> checkout</span><span style="color:#D19A66"> -b</span><span style="color:#98C379"> source</span></span>
<span class="line"></span></code></pre>
<p>将新分支推送给Github：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> push</span><span style="color:#98C379"> origin</span><span style="color:#98C379"> source</span></span>
<span class="line"></span></code></pre>
<p>这个时候登录Github去看你的仓库，会发现多了一个source的分支，建议把它设置为默认分支，因为后续的Git提交都是针对这个分支的。master分支作为静态网页的存放地点，一般不会直接用Git命令去提交，而是通过hexo插件去一次性部署提交。</p>
<p>然后我们把本地的源文件全部提交进仓库的source分支，在执行Git命令之前，请务必确认本地处于source分支下，</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> add</span><span style="color:#98C379"> .</span></span>
<span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> commit</span><span style="color:#D19A66"> -m</span><span style="color:#98C379"> "首次提交"</span><span style="color:#7F848E;font-style:italic"> #提交注释</span></span>
<span class="line"><span style="color:#61AFEF">git</span><span style="color:#98C379"> push</span><span style="color:#98C379"> origin</span><span style="color:#98C379"> source</span></span>
<span class="line"></span></code></pre>
<p>现在远程仓库的source分支上就有了你的源文件，当你之后需要切换另一个设备进行博客撰写的时候，可以直接由仓库进行clone。</p>
<h3 id="发布博客">发布博客</h3>
<p>接下来就是将发布博客到 Github Pages 上。</p>
<p>发布之前先修改 <code>FansChou.github.io/_config.yml</code>文件中的<code>deploy</code>标签：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#E06C75">deploy</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">    type</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">git</span></span>
<span class="line"><span style="color:#E06C75">    repository</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">git@github.com:FansChou/FansChou.github.io.git</span></span>
<span class="line"><span style="color:#E06C75">    branch</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">master</span></span>
<span class="line"></span></code></pre>
<p>repository换成你自己的仓库地址，branch默认是master，然后在<code>Git Bash Here</code>命令行里面安装deploy插件：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">npm</span><span style="color:#98C379"> install</span><span style="color:#98C379"> hexo-deployer-git</span><span style="color:#D19A66"> --save</span></span>
<span class="line"></span></code></pre>
<p>进行generate生成静态文件并提交：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">hexo</span><span style="color:#98C379"> deploy</span><span style="color:#D19A66"> -g</span></span>
<span class="line"></span></code></pre>
<p>提交完成之后就可以直接用<code>你的账号.github.io</code>去访问你的博客网站啦！</p>
<h2 id="撰写博客">撰写博客</h2>
<h2 id="新建文章">新建文章</h2>
<p>这里只简单介绍一下如何新建一篇文章，具体的一些使用，可以直接去<a href="https://hexo.io/zh-cn/docs/">Hexo的官方文档</a>去学习。</p>
<p>执行新建文章命令：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">hexo</span><span style="color:#98C379"> n</span><span style="color:#98C379"> "文章名称"</span></span>
<span class="line"></span></code></pre>
<p>这个时候在<code>FansChou.github.io/source/_posts</code>就会有一个<code>文章名称.md</code>的文件，直接进行编辑，然后重新generate发布即可。</p>  </article> <footer class="mt-5">  <p class="flex items-center gap-2"> <span class="inline-flex items-center"> <i class="i-mdi-chevron-double-left icon"></i> <a href="/posts/install/kafka-install-steps">上一篇: kafka安装配置</a> </span>  </p> </footer> <!-- <footer class="mt-5">
  <p class="mb-2.5">{t('page_number', page.currentPage)} / {t('page_count', page.lastPage)}</p>
  <p class="flex items-center gap-2">
    <span class="inline-flex items-center">
      <i class="i-mdi-chevron-double-left icon"></i>
      {page.url.prev ? <a href={page.url.prev}> {t('prev')} </a> : <span>{t('prev')}</span>}
    </span>

    <span class="inline-flex items-center">
      {page.url.next ? <a href={page.url.next}>{t('next')}</a> : <span>{t('next')}</span>}
      <i class="i-mdi-chevron-double-right icon"></i>
    </span>
  </p>
</footer> -->  <div py-16>     </div>  </main> <footer font-bold text-3 un-flex="~ col gap-1" un-lg="gap-3.5" class="lg:hidden p-7.5"> <p>
© 2024 <a target="_blank" href="https://www.fanschou.com" rel="noopener noreferrer">Fan Zhou</a> </p> <p> <a target="_blank" href="https://beian.miit.gov.cn/">皖ICP备2021007904号</a> </p> <p> <a target="_blank" href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=34180202000490"> <img src="https://images.fanschou.com/blog/site/beian_gongan.webp" alt="备案" style="float:left;">皖公网安备 34180202000490号
</a> </p> <!-- <p>
    Theme
    <a target="_blank" href="https://github.com/Moeyua/astro-theme-typography" rel="noopener noreferrer">Typography</a>
      by <a target="_blank" href="https://moeyua.com" rel="noopener noreferrer">Moeyua</a>
  </p>
  <p>
    Proudly published with
    <a target="_blank" href="https://astro.build" rel="noopener noreferrer">Astro</a>
  </p> --> </footer> </div> </body></html>  