<!DOCTYPE html><html lang="en"> <head><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.9.2"><link rel="sitemap" href="/sitemap-index.xml"><title>从一道字节算法面试题聊聊前缀和的运用</title><meta charset="utf-8"><link rel="canonical" href="https://www.fanschou.com/posts/algorithm/partial-sum-by-bytedance-interview/"><meta name="description" content="最近面试字节碰到了一道算法题，当场没做出来，只给出了暴力解法，面试官显然是不满意的。结束面试后，重新审视了这道题，可以用一种更有效率的解法去做，本篇文章就让我和大家一起聊一聊吧~"><meta name="robots" content="index, follow"><meta property="og:title" content="从一道字节算法面试题聊聊前缀和的运用"><meta property="og:type" content="article"><meta property="og:image" content="https://www.fanschou.com/placeholder.png"><meta property="og:url" content="https://www.fanschou.com"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><meta name="twitter:image:src" content="https://www.fanschou.com/placeholder.png"><meta name="twitter:image:alt" content="最近面试字节碰到了一道算法题，当场没做出来，只给出了暴力解法，面试官显然是不满意的。结束面试后，重新审视了这道题，可以用一种更有效率的解法去做，本篇文章就让我和大家一起聊一聊吧~"><meta name="twitter:creator"><meta name="twitter:site"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="从一道字节算法面试题聊聊前缀和的运用"><meta name="twitter:description" content="最近面试字节碰到了一道算法题，当场没做出来，只给出了暴力解法，面试官显然是不满意的。结束面试后，重新审视了这道题，可以用一种更有效率的解法去做，本篇文章就让我和大家一起聊一聊吧~"><!-- Katex --><link rel="stylesheet" href="/_astro/about.CKOrui31.css">
<link rel="stylesheet" href="/_astro/about.Q2hPb40S.css">
<style>.tk-meta-input{background-color:#fff}.code-container{position:relative}.clipboard-copy{position:absolute;top:.5rem;right:.5rem;width:1.75rem;height:1.75rem;display:flex;justify-content:center;align-items:center;border-radius:.25rem}.clipboard-copy:hover{background-color:#30363d}
</style><script type="module" src="/_astro/hoisted.C1FqLlVV.js"></script>
<script type="module" src="/_astro/page.DFwqf4PB.js"></script></head> <body> <div un-max-lg="animate-fadein-down" un-lg="flex flex-row-reverse justify-between gap-4 px-8 mx-auto max-w-6xl" class="container contain-layout m-a"> <div un-lg="sticky top-0 h-screen py-20 animate-fadein-left gap-8" un-lg:flex="~ col justify-between items-start gap-4" class="p-7.5"> <header un-lg="grow-1 justify-between items-start" un-flex="~ col gap-2.5" class="text-center"> <hgroup un-hover:lg="bg-foreground color-background pt-3.75 pb-8.75 " un-lg=" write-vertical-right items-start px-2.5 pb-12 b-l-2px b-l-foreground-solid text-left" un-flex="~ col gap-2.5" class="cursor-pointer transition-[padding,background] duration-800 ease-in-out"> <a class="normal" href="/"> <h3 class="text-5 font-extrabold font-serif">Fan Zhou</h3> <h1 class="text-8 font-extrabold font-serif">六脉神间</h1> </a> </hgroup> <nav class="text-center font-bold" un-flex="~ col gap-2"> <ul un-lg="flex-col items-start text-4" class="text-3.5" un-flex="~ row gap-2 justify-center"> <li> <a href="/posts/page/1">文章</a> </li><li> <a href="/archive">归档</a> </li><li> <a href="/tags">标签</a> </li><li> <a href="/about">关于</a> </li> </ul> <ul un-flex="~ row gap-1 justify-center"> <li> <a href="https://github.com/FansChou" target="_blank" title="github" class="icon i-mdi-github"></a> </li><li> <a href="/rss.xml" target="_blank" title="rss" class="icon i-mdi-rss"></a> </li> </ul> </nav> </header> <footer font-bold text-3 un-flex="~ col gap-1" un-lg="gap-3.5" class="max-lg:hidden"> <p>
© 2024 <a target="_blank" href="https://www.fanschou.com" rel="noopener noreferrer">Fan Zhou</a> </p> <p> <a target="_blank" href="https://beian.miit.gov.cn/">皖ICP备2021007904号</a> </p> <p> <a target="_blank" href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=34180202000490"> <img src="https://images.fanschou.com/blog/site/beian_gongan.webp" alt="备案" style="float:left;">皖公网安备 34180202000490号
</a> </p> <!-- <p>
    Theme
    <a target="_blank" href="https://github.com/Moeyua/astro-theme-typography" rel="noopener noreferrer">Typography</a>
      by <a target="_blank" href="https://moeyua.com" rel="noopener noreferrer">Moeyua</a>
  </p>
  <p>
    Proudly published with
    <a target="_blank" href="https://astro.build" rel="noopener noreferrer">Astro</a>
  </p> --> </footer> </div> <main un-lg="py-20 min-w-xl animate-fadein-down" class="p-7.5">  <article class="heti"> <header> <h1 class="post-title!"> <a href="/posts/algorithm/partial-sum-by-bytedance-interview/">从一道字节算法面试题聊聊前缀和的运用</a> </h1> <div class="mt-2 text-3.5"> <span>发布于</span> <time>2022-04-28</time> <span>更新于</span><time>2022-04-28</time> <a class="ml-2.5" href="/tags/algorithm">
# 算法 </a><a class="ml-2.5" href="/tags/interview">
# 面试 </a>  </div> </header>  <p>最近笔者在找工作，怀着忐忑的心情投了字节，想着也看看自己刷leetcode每日一题坚持的效果，哈哈哈~~~废话不多说，直接上题~</p>
<h2 id="题目求连续子数组的最小长度">题目：求连续子数组的最小长度</h2>
<p>我拿到的题目大致的描述如下：</p>
<blockquote>
<p>给定一个整数数组 nums 和目标值 target ，求一个 nums 的连续子数组，使的连续子数组的和是 target 的倍数，并且子数组的长度最小
示例：nums=[23,2,4,6,7], tartget = 6，最小长度为 2</p>
</blockquote>
<p>当时写的时候，第一反应是如果不是求 target 的倍数，而是直接等于 target，貌似会简单点？结果就是想了3分钟，没有想通，面试官说可以先暴力解，然后想办法优化，于是我就先手撸了一个暴力解法，双层循环跑出了答案。接下来就是想了半天，也想到了前缀和，但是没搞通 target的倍数 这一关键点，时间到了之后，面试官就进下一环节了。这里也贴一下暴力解法吧，复杂度为O(n²)，可以对照后面的优化解法。</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#C678DD">public</span><span style="color:#C678DD"> static</span><span style="color:#C678DD"> int</span><span style="color:#61AFEF"> getMinLength1</span><span style="color:#E06C75">(</span><span style="color:#C678DD">int</span><span style="color:#E06C75">[] nums</span><span style="color:#ABB2BF">,</span><span style="color:#C678DD"> int</span><span style="color:#E06C75"> target){</span></span>
<span class="line"><span style="color:#C678DD">    int</span><span style="color:#E06C75"> minLength </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> Integer</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">MAX_VALUE</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    int</span><span style="color:#E06C75"> n </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> nums</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">length</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    for</span><span style="color:#E06C75"> (</span><span style="color:#C678DD">int</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">&#x3C;</span><span style="color:#E06C75"> n</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i</span><span style="color:#ABB2BF">++</span><span style="color:#E06C75">) {</span></span>
<span class="line"><span style="color:#C678DD">        int</span><span style="color:#E06C75"> sum </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> nums[i]</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">        for</span><span style="color:#E06C75"> (</span><span style="color:#C678DD">int</span><span style="color:#E06C75"> j </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> i</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> j </span><span style="color:#56B6C2">&#x3C;</span><span style="color:#E06C75"> n</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> j</span><span style="color:#ABB2BF">++</span><span style="color:#E06C75">) {</span></span>
<span class="line"><span style="color:#E06C75">            sum </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">!=</span><span style="color:#E06C75"> j </span><span style="color:#C678DD">?</span><span style="color:#E06C75"> sum </span><span style="color:#56B6C2">+</span><span style="color:#E06C75"> nums[j] </span><span style="color:#C678DD">:</span><span style="color:#E06C75"> sum</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">            if</span><span style="color:#E06C75">(sum </span><span style="color:#56B6C2">%</span><span style="color:#E06C75"> target </span><span style="color:#56B6C2">==</span><span style="color:#D19A66"> 0</span><span style="color:#E06C75">){</span></span>
<span class="line"><span style="color:#E06C75">                minLength </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> Math</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">min</span><span style="color:#ABB2BF">(minLength, j </span><span style="color:#56B6C2">-</span><span style="color:#ABB2BF"> i </span><span style="color:#56B6C2">+</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#E06C75">            }</span></span>
<span class="line"><span style="color:#E06C75">        }</span></span>
<span class="line"><span style="color:#E06C75">    }</span></span>
<span class="line"><span style="color:#C678DD">    return</span><span style="color:#E06C75"> minLength </span><span style="color:#56B6C2">==</span><span style="color:#E5C07B"> Integer</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">MAX_VALUE</span><span style="color:#C678DD"> ?</span><span style="color:#56B6C2"> -</span><span style="color:#D19A66"> 1</span><span style="color:#C678DD"> :</span><span style="color:#E06C75"> minLength</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">}</span></span>
<span class="line"></span></code></pre>
<p>结束面试之后，我立马去leetcode上搜索题目，确实找到了相似的一道题，但是也不太一样，不过题解确实让我想到了思路，这里我贴一下相似的这道leetcode题：<a href="https://leetcode-cn.com/problems/continuous-subarray-sum/">523. 连续的子数组和</a>。</p>
<p>这道相似题的题解提供给我最大的提示就是：<code>前缀和</code> + <code>同余定理</code>。基于这两点，其实很容易就想到解决办法了。我先来说说什么是前缀和</p>
<h2 id="前缀和">前缀和</h2>
<p>前缀和是一种重要的预处理，能大大降低查询的时间复杂度。可以简单理解为“数列的前n项的和”。拿算法题的示例来说，nums 数组[23,2,4,6,7]，它对应到的前缀和数组 psum 是这么计算的：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="text"><code><span class="line"><span>psum[0]= nums[0] = 23</span></span>
<span class="line"><span>psum[1]= psum[0] + nums[1] = 25</span></span>
<span class="line"><span>psum[2]= psum[1] + nums[2] = 29</span></span>
<span class="line"><span>psum[3]= psum[2] + nums[3] = 35</span></span>
<span class="line"><span>psum[4]= psum[3] + nums[4] = 42</span></span>
<span class="line"><span></span></span></code></pre>
<p>此时前缀和有个重要的性质来了，就是它可以直接计算出原数组任意两个坐标之间的数值之和。我们还是以上面这个数组为例，当我们想计算下标0到2区间的数值和，直接使用<code>psum[2]-psum[0]</code>得到结果为 6，不需要任何额外累加的过程。
另外提一点，这里实际写代码的时候，还要注意像区间的开闭情况，还有边界值以及索引的编号从 0 还是 1 开始等等细节的地方。</p>
<h2 id="同余定理">同余定理</h2>
<p>严格来说，这个应该算是一个数学方面的小知识，也很容易理解。用一句话描述就是，<strong>给定一个正整数 m，如果两个整数 a 和 b 满足 a-b 能够被 m 整除，即 (a-b)/m 得到一个整数，那么就称整数 a 与 b 对模 m 同余，记作 a≡b(mod m)</strong>。引申来说，如果 a 对 m 取余，b 也对 m 取余，余数相同的情况下，a-b 是 m 的倍数。</p>
<p>写到这里，再结合前缀和，是不是可以发现这个倍数的性质，是可以解决题目当中的倍数问题的。</p>
<h2 id="解题思路">解题思路</h2>
<p>首先，我们计算出给定数组nums的前缀和数组：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#C678DD">int</span><span style="color:#E06C75">[] sum </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#C678DD"> int</span><span style="color:#E06C75">[</span><span style="color:#E5C07B">nums</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">length</span><span style="color:#E06C75">]</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">for</span><span style="color:#E06C75"> (</span><span style="color:#C678DD">int</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">&#x3C;</span><span style="color:#E5C07B"> nums</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">length</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i</span><span style="color:#ABB2BF">++</span><span style="color:#E06C75">) {</span></span>
<span class="line"><span style="color:#E06C75">    sum[i] </span><span style="color:#56B6C2">+=</span><span style="color:#E06C75"> nums[i]</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">}</span></span>
<span class="line"></span></code></pre>
<p>接下来创建一个哈希表，它的key是某个索引位置的前缀和元素对target取余的结果，value则存储索引位置。</p>
<p>然后遍历前缀和数组，拿到每一个前缀和的元素，对目标值target取余，并且把对应索引位置的取余结果通过哈希表存储起来。</p>
<p>这个时候就到了核心的部分了，计算完当前前缀和元素 a 对 target 取余的结果，然后从哈希表中找这个余数对应的value是否存在，如果存在，则说明存在之前的前缀和元素 b 与当前前缀和元素是<strong>同余</strong>（即余数相同）的。结合上面提到的同余定理，a 与 b 的差值一定是 <strong>target 的倍数</strong>，同时因为 a 与 b 是前缀和元素，结合前缀和的性质，那么他们的差值其实也就是它们对应索引位置之间<strong>连续子数组的和</strong>。</p>
<p>到此，所有逻辑都对上了题目中的要素：连续子数组与target的倍数。我们可以直接写出对应的代码。</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#C678DD">public</span><span style="color:#C678DD"> static</span><span style="color:#C678DD"> int</span><span style="color:#61AFEF"> getMinLength</span><span style="color:#E06C75">(</span><span style="color:#C678DD">int</span><span style="color:#E06C75">[] nums</span><span style="color:#ABB2BF">,</span><span style="color:#C678DD"> int</span><span style="color:#E06C75"> target){</span></span>
<span class="line"><span style="color:#C678DD">    int</span><span style="color:#E06C75"> minLength </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> Integer</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">MAX_VALUE</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E5C07B">    Map</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">Integer</span><span style="color:#ABB2BF">,</span><span style="color:#E5C07B"> Integer</span><span style="color:#ABB2BF">></span><span style="color:#E06C75"> map </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> HashMap</span><span style="color:#ABB2BF">&#x3C;></span><span style="color:#E06C75">()</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    int</span><span style="color:#E06C75">[] sum </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#C678DD"> int</span><span style="color:#E06C75">[</span><span style="color:#E5C07B">nums</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">length</span><span style="color:#E06C75">]</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    for</span><span style="color:#E06C75"> (</span><span style="color:#C678DD">int</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">&#x3C;</span><span style="color:#E5C07B"> nums</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">length</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i</span><span style="color:#ABB2BF">++</span><span style="color:#E06C75">) {</span></span>
<span class="line"><span style="color:#E06C75">        sum[i] </span><span style="color:#56B6C2">+=</span><span style="color:#E06C75"> nums[i]</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    }</span></span>
<span class="line"><span style="color:#C678DD">    for</span><span style="color:#E06C75"> (</span><span style="color:#C678DD">int</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">&#x3C;</span><span style="color:#E5C07B"> nums</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">length</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i</span><span style="color:#ABB2BF">++</span><span style="color:#E06C75">) {</span></span>
<span class="line"><span style="color:#C678DD">        int</span><span style="color:#E06C75"> s </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> sum[i] </span><span style="color:#56B6C2">%</span><span style="color:#E06C75"> target</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">        if</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">map</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">containsKey</span><span style="color:#ABB2BF">(sum)</span><span style="color:#E06C75">){</span></span>
<span class="line"><span style="color:#C678DD">            int</span><span style="color:#E06C75"> index </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> map</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">get</span><span style="color:#ABB2BF">(sum);</span></span>
<span class="line"><span style="color:#E06C75">            minLength </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> Math</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">min</span><span style="color:#ABB2BF">(minLength, i </span><span style="color:#56B6C2">-</span><span style="color:#ABB2BF"> index);</span></span>
<span class="line"><span style="color:#E06C75">        } </span><span style="color:#C678DD">else</span><span style="color:#E06C75"> {</span></span>
<span class="line"><span style="color:#E5C07B">            map</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">put</span><span style="color:#ABB2BF">(sum, i);</span></span>
<span class="line"><span style="color:#E06C75">        }</span></span>
<span class="line"><span style="color:#E06C75">    }</span></span>
<span class="line"><span style="color:#C678DD">    return</span><span style="color:#E06C75"> minLength</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">}</span></span>
<span class="line"></span></code></pre>
<p>再次深入分析一下代码，我们发现前缀和的计算过程，可以直接融合在对 target 取余的过程中，这样可以减少一次遍历，并且不用创建前缀和数组。</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#C678DD">public</span><span style="color:#C678DD"> static</span><span style="color:#C678DD"> int</span><span style="color:#61AFEF"> getMinLength</span><span style="color:#E06C75">(</span><span style="color:#C678DD">int</span><span style="color:#E06C75">[] nums</span><span style="color:#ABB2BF">,</span><span style="color:#C678DD"> int</span><span style="color:#E06C75"> target){</span></span>
<span class="line"><span style="color:#C678DD">        int</span><span style="color:#E06C75"> sum </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">        int</span><span style="color:#E06C75"> minLength </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> Integer</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">MAX_VALUE</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E5C07B">        Map</span><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E5C07B">Integer</span><span style="color:#ABB2BF">,</span><span style="color:#E5C07B"> Integer</span><span style="color:#ABB2BF">></span><span style="color:#E06C75"> map </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> HashMap</span><span style="color:#ABB2BF">&#x3C;></span><span style="color:#E06C75">()</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">        for</span><span style="color:#E06C75"> (</span><span style="color:#C678DD">int</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i </span><span style="color:#56B6C2">&#x3C;</span><span style="color:#E5C07B"> nums</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">length</span><span style="color:#ABB2BF">;</span><span style="color:#E06C75"> i</span><span style="color:#ABB2BF">++</span><span style="color:#E06C75">) {</span></span>
<span class="line"><span style="color:#E06C75">            sum </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (sum </span><span style="color:#56B6C2">+</span><span style="color:#E06C75"> nums[i]) </span><span style="color:#56B6C2">%</span><span style="color:#E06C75"> target</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">            if</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">map</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">containsKey</span><span style="color:#ABB2BF">(sum)</span><span style="color:#E06C75">){</span></span>
<span class="line"><span style="color:#C678DD">                int</span><span style="color:#E06C75"> index </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> map</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">get</span><span style="color:#ABB2BF">(sum);</span></span>
<span class="line"><span style="color:#E06C75">                minLength </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> Math</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">min</span><span style="color:#ABB2BF">(minLength, i </span><span style="color:#56B6C2">-</span><span style="color:#ABB2BF"> index);</span></span>
<span class="line"><span style="color:#E06C75">            } </span><span style="color:#C678DD">else</span><span style="color:#E06C75"> {</span></span>
<span class="line"><span style="color:#E5C07B">                map</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">put</span><span style="color:#ABB2BF">(sum, i);</span></span>
<span class="line"><span style="color:#E06C75">            }</span></span>
<span class="line"><span style="color:#E06C75">        }</span></span>
<span class="line"><span style="color:#C678DD">        return</span><span style="color:#E06C75"> minLength</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    }</span></span>
<span class="line"></span></code></pre>
<p>上面这段代码的时间复杂度降低到了O(n)。</p>
<h2 id="写在最后">写在最后</h2>
<p>整道题下来，可以发现巧妙利用前缀和和同余定理，可以将时间复杂度降低一个数量级。在不断的刷题过程中，其实也接触了不少前缀和的题，但遇到这个题目之后，发现自己的运用还是不够娴熟，也不能很好的结合一些其他的解决方法。所以算法解题是一个不断锤炼自己的思考的过程中，刷题也需要不断沉淀，相同的题也需要不断的反复的去做，才能真正吸收掉它。</p>
<p>同时，写题解也是一个很好的方式，可以整理你的思路，更容易加深技巧的理解。坚持刷题前期也是一个很辛苦的事情，如果你因为某种原因需要刷题，那么一起坚持下去吧~最终一定会有收获！</p>  </article> <footer class="mt-5">  <p class="flex items-center gap-2"> <span class="inline-flex items-center"> <i class="i-mdi-chevron-double-left icon"></i> <a href="/posts/algorithm/algorithm-reservoir-sampling">上一篇: 蓄水池抽样算法——解决以相同概率抽取样本的问题</a> </span> <span class="inline-flex items-center"> <a href="/posts/java/concurrent-deadlock">下一篇: 聊聊并发中的死锁</a> <i class="i-mdi-chevron-double-right icon"></i> </span> </p> </footer> <!-- <footer class="mt-5">
  <p class="mb-2.5">{t('page_number', page.currentPage)} / {t('page_count', page.lastPage)}</p>
  <p class="flex items-center gap-2">
    <span class="inline-flex items-center">
      <i class="i-mdi-chevron-double-left icon"></i>
      {page.url.prev ? <a href={page.url.prev}> {t('prev')} </a> : <span>{t('prev')}</span>}
    </span>

    <span class="inline-flex items-center">
      {page.url.next ? <a href={page.url.next}>{t('next')}</a> : <span>{t('next')}</span>}
      <i class="i-mdi-chevron-double-right icon"></i>
    </span>
  </p>
</footer> -->  <div py-16>     </div>  </main> <footer font-bold text-3 un-flex="~ col gap-1" un-lg="gap-3.5" class="lg:hidden p-7.5"> <p>
© 2024 <a target="_blank" href="https://www.fanschou.com" rel="noopener noreferrer">Fan Zhou</a> </p> <p> <a target="_blank" href="https://beian.miit.gov.cn/">皖ICP备2021007904号</a> </p> <p> <a target="_blank" href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=34180202000490"> <img src="https://images.fanschou.com/blog/site/beian_gongan.webp" alt="备案" style="float:left;">皖公网安备 34180202000490号
</a> </p> <!-- <p>
    Theme
    <a target="_blank" href="https://github.com/Moeyua/astro-theme-typography" rel="noopener noreferrer">Typography</a>
      by <a target="_blank" href="https://moeyua.com" rel="noopener noreferrer">Moeyua</a>
  </p>
  <p>
    Proudly published with
    <a target="_blank" href="https://astro.build" rel="noopener noreferrer">Astro</a>
  </p> --> </footer> </div> </body></html>  